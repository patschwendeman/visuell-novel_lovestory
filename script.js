const scenes = [
/*   -------------------------------------------------------------- */
/*   ----------------------- 0 Prologue --------------------------- */
/*   -------------------------------------------------------------- */
  {
    text: "Pack just arrived from the tempel in hong kong 2 days ago",
    background: "img/locations/tempel.png",
    person1: null,
    person2: null,
    optional: null,
  },
  {
    text: "Pack decided to try one last time",
    background: "img/locations/flat_pack.png",
    person1: null,
    person2: "img/charakter/pack_normal.png",
    optional: null,
  },
  {
    text: "And start to swipe",
    background: "img/locations/flat_pack.png",
    person1: null,
    person2: "img/charakter/pack_normal.png",
    optional: "img/optional/pack_smartphone.png",
  },
  {
    text: "And swipe left ..",
    background: "img/locations/flat_pack.png",
    person1: null,
    person2: "img/charakter/pack_normal.png",
    optional: "img/optional/pack_smartphone.png",
  },
  {
    text: "And swipe left ..",
    background: "img/locations/flat_pack.png",
    person1: null,
    person2: "img/charakter/pack_normal.png",
    optional: "img/optional/pack_smartphone.png",
  },
  {
    text: "..",
    background: "img/locations/flat_pack.png",
    person1: null,
    person2: "img/charakter/pack_normal.png",
    optional: "img/optional/pack_bumble_match.png",
  },
  {
    text: "..",
    background: "img/locations/flat_pack.png",
    person1: null,
    person2: "img/charakter/pack_suprised.png",
    optional: "img/optional/pack_bumble_match.png",
  },
  {
    text: "swipe right",
    background: null,
    person1: null,
    person2: null,
    optional: null,
  },
  {
    text: "Patrick just landed in Thailand from his long flight from germany",
    background: "img/locations/airplane.png",
    person1: null,
    person2: null,
    optional: null,
  },
  {
    text: "Patrick decided to try",
    background: "img/locations/flat_patrick.png",
    person1: "img/charakter/patrick_normal.png",
    person2: null,
    optional: null,
  },
  {
    text: "Patrick start to swipe",
    background: "img/locations/flat_patrick.png",
    person1: "img/charakter/patrick_normal.png",
    person2: null,
    optional: "img/optional/patrick_smartphone.png",
  },
  {
    text: "and swipe left",
    background: "img/locations/flat_patrick.png",
    person1: "img/charakter/patrick_normal.png",
    person2: null,
    optional: "img/optional/patrick_smartphone.png",
  },
  {
    text: "and swipe left",
    background: "img/locations/flat_patrick.png",
    person1: "img/charakter/patrick_normal.png",
    person2: null,
    optional: "img/optional/patrick_smartphone.png",
  },
  {
    text: "and swipe left",
    background: "img/locations/flat_patrick.png",
    person1: "img/charakter/patrick_normal.png",
    person2: null,
    optional: "img/optional/patrick_smartphone.png",
  },
  {
    text: "...",
    background: "img/locations/flat_patrick.png",
    person1: "img/charakter/patrick_normal.png",
    person2: null,
    optional: "img/optional/patrick_bumble_match.png",
  },
  {
    text: "...",
    background: "img/locations/flat_patrick.png",
    person1: "img/charakter/patrick_suprised.png",
    person2: null,
    optional: "img/optional/patrick_bumble_match.png",
  },
  {
    text: "swipe right",
    background: null,
    person1: null,
    person2: null,
    optional: null,
  },
/*   -------------------------------------------------------------- */
/*   -------------------1.1 Bumble Pack----------------------------- */
/*   -------------------------------------------------------------- */

  {
    text: "Pack is just arrived at rama 9 on the way back from work ",
    background: "img/locations/rama9.png",
    person1: null,
    person2: null,
    optional: null,
  },
  {
    text: "She notices her phone rangs",
    background: "img/locations/rama9.png",
    person1: null,
    person2: "img/charakter/pack_normal.png",
    optional: null,
  },
  {
    text: "...",
    background: "img/locations/rama9.png",
    person1: null,
    person2: "img/charakter/pack_normal.png",
    optional: "img/optional/pack_bumble_match.png",
  },
  {
    text: "We got a match ...",
    background: "img/locations/rama9.png",
    person1: null,
    person2: "img/charakter/pack_suprised.png",
    optional: "img/optional/pack_bumble_match.png",
  },
  {
    text: "What should I text",
    background: "img/locations/rama9.png",
    person1: null,
    person2: "img/charakter/pack_normal.png",
    optional: "img/optional/pack_bumble_match.png",
  },
  {
    text: "Hello Patrick, descripe yourselfe with an emojy!",
    background: "img/locations/rama9.png",
    person1: null,
    person2: "img/charakter/pack_laught.png",
    optional: "img/optional/pack_bumble_match.png",
  },
  {
    text: "...",
    background: "img/locations/rama9.png",
    person1: null,
    person2: "img/charakter/pack_normal.png",
    optional: null,
  },
  {
    text: "Phone rang again",
    background: "img/locations/rama9.png",
    person1: null,
    person2: "img/charakter/pack_normal.png",
    optional: null,
  },
  {
    text: "A answer? This was fast!",
    background: "img/locations/rama9.png",
    person1: null,
    person2: "img/charakter/pack_suprised.png",
    optional: "img/optional/pack_bumble_match.png",
  },
  {
    text: "He texted an work emojy",
    background: "img/locations/rama9.png",
    person1: null,
    person2: "img/charakter/pack_normal.png",
    optional: "img/optional/pack_bumble_match.png",
  },
  {
    text: "Oh no I need to hurry! Pilates class will start soon!",
    background: null,
    person1: null,
    person2: null,
    optional: null,
  },
/*   -------------------------------------------------------------- */
/*   ------------------1.2 Bumble Patrick-------------------------- */
/*   -------------------------------------------------------------- */
  {
    text: "Patrick just finished work in his flat",
    background: "img/locations/flat_patrick.png",
    person1: "img/charakter/patrick_normal.png",
    person2: null,
    optional: null,
  },
  {
    text: "He noticed his phone rang",
    background: "img/locations/flat_patrick.png",
    person1: "img/charakter/patrick_normal.png",
    person2: null,
    optional: null,
  },
  {
    text: "...",
    background: "img/locations/flat_patrick.png",
    person1: "img/charakter/patrick_normal.png",
    person2: null,
    optional: "img/optional/patrick_bumble_match.png",
  },
  {
    text: "She answered me with an smile emojy",
    background: "img/locations/flat_patrick.png",
    person1: "img/charakter/patrick_suprised.png",
    person2: null,
    optional: "img/optional/patrick_bumble_match.png",
  },
  {
    text: "...",
    background: "img/locations/flat_patrick.png",
    person1: "img/charakter/patrick_normal.png",
    person2: null,
    optional: "img/optional/patrick_bumble_match.png",
  },
  {
    text: "Let's ask her for a Date!",
    background: "img/locations/flat_patrick.png",
    person1: "img/charakter/patrick_laught.png",
    person2: null,
    optional: "img/optional/patrick_bumble_match.png",
  },
  {
    text: "hmm...",
    background: "img/locations/flat_patrick.png",
    person1: "img/charakter/patrick_normal.png",
    person2: null,
    optional: "img/optional/patrick_bumble_match.png",
  },
  {
    text: "But where to go. I don't know the good restaurants here",
    background: "img/locations/flat_patrick.png",
    person1: "img/charakter/patrick_awkward.png",
    person2: null,
    optional: "img/optional/patrick_bumble_match.png",
  },
  {
    text: "Let's check google maps",
    background: "img/locations/flat_patrick.png",
    person1: "img/charakter/patrick_normal.png",
    person2: null,
    optional: "img/optional/patrick_bumble_match.png",
  },
  {
    text: "This looks good!",
    background: null,
    person1: null,
    person2: null,
    optional: null,
  },
/*   -------------------------------------------------------------- */
/*   ------------------2.1 Bumble Pack ---------------------------- */
/*   -------------------------------------------------------------- */
  {
    text: "Pack just arrived in her flat as she noticed her phone rangs again",
    background: "img/locations/flat_pack.png",
    person1: null,
    person2: null,
    optional: null,
  },
  {
    text: "...",
    background: "img/locations/flat_pack.png",
    person1: null,
    person2: "img/charakter/pack_normal.png",
    optional: null,
  },
  {
    text: "...",
    background: "img/locations/flat_pack.png",
    person1: null,
    person2: "img/charakter/pack_normal.png",
    optional: "img/optional/pack_bumble_match.png",
  },
  {
    text: "He asked me for a Date!!",
    background: "img/locations/flat_pack.png",
    person1: null,
    person2: "img/charakter/pack_suprised.png",
    optional: "img/optional/pack_bumble_match.png",
  },
  {
    text: "YEEY!!",
    background: "img/locations/flat_pack.png",
    person1: null,
    person2: "img/charakter/pack_laught.png",
    optional: "img/optional/pack_bumble_match.png",
  },
  {
    text: "....",
    background: "img/locations/flat_pack.png",
    person1: null,
    person2: "img/charakter/pack_laught.png",
    optional: "img/optional/pack_bumble_match.png",
  },
  {
    text: "One moment!",
    background: "img/locations/flat_pack.png",
    person1: null,
    person2: "img/charakter/pack_normal.png",
    optional: "img/optional/pack_bumble_match.png",
  },
  {
    text: "Is this a hotel???",
    background: "img/locations/flat_pack.png",
    person1: null,
    person2: "img/charakter/pack_normal.png",
    optional: "img/optional/pack_bumble_match.png",
  },
  {
    text: "...",
    background: "img/locations/flat_pack.png",
    person1: null,
    person2: "img/charakter/pack_awkward.png",
    optional: "img/optional/pack_bumble_match.png",
  },
  {
    text: "Does he life there??",
    background: "img/locations/flat_pack.png",
    person1: null,
    person2: "img/charakter/pack_awkward.png",
    optional: "img/optional/pack_bumble_match.png",
  },
  {
    text: "And does he has some thoughts with me?",
    background: "img/locations/flat_pack.png",
    person1: null,
    person2: "img/charakter/pack_awkward.png",
    optional: "img/optional/pack_bumble_match.png",
  },
  {
    text: "...",
    background: "img/locations/flat_pack.png",
    person1: null,
    person2: "img/charakter/pack_normal.png",
    optional: "img/optional/pack_bumble_match.png",
  },
  {
    text: "I have a better Idea for a restaurant",
    background: null,
    person1: null,
    person2: null,
    optional: null,
  },
/*   -------------------------------------------------------------- */
/*   ------------------2.2 Bumble Patrick ------------------------- */
/*   -------------------------------------------------------------- */
  {
    text: "Patrick is just looking for a nice local restaurant in rama 9 as his phone rang",
    background: "img/locations/rama9.png",
    person1: null,
    person2: null,
    optional: null,
  },
  {
    text: "...",
    background: "img/locations/rama9.png",
    person1: "img/charakter/patrick_normal.png",
    person2: null,
    optional: null,
  },
  {
    text: "it's Pack! ",
    background: "img/locations/rama9.png",
    person1: "img/charakter/patrick_normal.png",
    person2: null,
    optional: null,
  },
  {
    text: "...",
    background: "img/locations/rama9.png",
    person1: "img/charakter/patrick_laught.png",
    person2: null,
    optional: null,
  },
  {
    text: "And she asked me for an other restaurant!",
    background: "img/locations/rama9.png",
    person1: "img/charakter/patrick_normal.png",
    person2: null,
    optional: null,
  },
   {
    text: "Thanks god she decided. I have no idea where are the good restaurrants but she is a local and know!",
    background: "img/locations/rama9.png",
    person1: "img/charakter/patrick_awkward.png",
    person2: null,
    optional: null,
  },
  {
    text: "Sure let's meet there at 6",
    background: null,
    person1: null,
    person2: null,
    optional: null,
  },
/*   -------------------------------------------------------------- */
/*   ------------------3.1 First Date ----------------------------- */
/*   -------------------------------------------------------------- */
];

let currentScene = 1;

// Type Writer Effect
function typeWriter(text, element, speed = 35, callback = null) {
  element.innerHTML = "";
  let i = 0;

  const interval = setInterval(() => {
    element.innerHTML += text.charAt(i);
    i++;

    if (i >= text.length) {
      clearInterval(interval);
      if (callback) callback();   // <- Button wird aktiviert
    }
  }, speed);
}

function showOptional(src, element) {
  const optional = document.getElementById(element);
  optional.src = src;
  optional.style.opacity = 1;
}

function hideOptional(element) {
  document.getElementById(element).style.opacity = 0;
}




function loadScene(index) {

  
  
  const nextBtn = document.getElementById("nextBtn");
  /* nextBtn.disabled = true;  */      // Button deaktivieren
  nextBtn.style.opacity = 0.5;

  const scene = scenes[index];
  currentScene = index;

  document.getElementById("background").style.backgroundImage = 
    scene.background ? `url('${scene.background}')` : "none";

  if (scene.person1) showOptional(scene.person1, "person_1");
  else hideOptional("person_1");

  if (scene.person2) showOptional(scene.person2, "person_2");
  else hideOptional("person_2");

  if (scene.optional) showOptional(scene.optional, "optional");
  else hideOptional("optional");

  typeWriter(scene.text, document.getElementById("text"), 35, () => {
    nextBtn.disabled = false;
    nextBtn.style.opacity = 1;
  });

  nextBtn.onclick = () => loadScene(currentScene + 1);
}


loadScene(0);